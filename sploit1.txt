We used gdb to find the starting address of buf in the stack frame for foo, which was the address of the
base pointer for foo minus 180 bytes.  The function bar simply copies the argv[1] string into buf
which lies in foo's stack frame.  Again used gdb to find the location of main's return address
which is used to return to main from foo.  This gave us the minimum length of the buffer we needed to build
to write from the start of buf to the location of main's return addr (location of main return addr - location
of start of buf).  The location of the start of buf is what we want to overwrite main's return addr too.
Crafted the string to contain many NOPs, then the given shell code, then the address of the start of buf
repeated a number of times.  Passed this string as the only argument.